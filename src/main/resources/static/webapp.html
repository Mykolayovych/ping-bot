<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
<button id="ping">Ping admin</button>
<script>
    const tg = window.Telegram.WebApp;
    const btn = document.getElementById('ping');
    btn.addEventListener('click', () => {
        fetch('/api/ping', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                chat_id: tg.initDataUnsafe.user.id,
                first_name: tg.initDataUnsafe.user.first_name,
                last_name: tg.initDataUnsafe.user.last_name
            })
        }).then(r => {
            if (r.ok) alert('Ping sent!');
        });
    });
</script>
</body>
</html>
